{"version":3,"sources":["../webpack/bootstrap","../external \"vscode\"",".././src/extension.js",".././src/util.js","../external \"os\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","vscode","util","window","workspace","activate","context","isCaseSensitive","assembledData","decorationTypes","pattern","styleForRegExp","keywordsPattern","timeout","activeEditor","activeTextEditor","workspaceState","settings","getConfiguration","updateDecorations","document","match","text","getText","matches","exec","startPos","positionAt","index","endPos","length","decoration","range","Range","matchedValue","patternIndex","slice","indexOf","keys","toUpperCase","push","trim","createTextEditorDecorationType","forEach","v","rangeOption","decorationType","setDecorations","init","customDefaultStyle","statusBarItem","createStatusBarItem","outputChannel","createOutputChannel","assign","DEFAULT_STYLE","overviewRulerLane","OverviewRulerLane","Right","getAssembledData","mergedStyle","overviewRulerColor","backgroundColor","map","regex","escapeRegExp","escapeRegExpGroups","join","RegExp","triggerUpdateDecorations","clearTimeout","setTimeout","subscriptions","commands","registerCommand","update","then","searchAnnotations","annotationsFound","availableAnnotationTypes","unshift","chooseAnnotationType","annotationType","searchPattern","annotationList","showOutputChannel","onDidChangeActiveTextEditor","editor","onDidChangeTextDocument","event","onDidChangeConfiguration","os","DEFAULT_KEYWORDS","color","getPathes","config","Array","isArray","searchAnnotationInFile","file","annotations","regexp","fileInUri","uri","toString","pathWithoutFile","substring","line","lineCount","lineText","lineAt","content","getContent","locationInfo","getLocationInfo","annotation","label","detail","relativePath","lineNum","fileName","absPath","startCol","endCol","data","clear","toggleURI","platform","patterns","patternType","appendLine","show","showInformationMessage","rootPath","outputFile","replace","errorHandler","err","processing","setStatusMsg","console","log","icon","msg","tooltip","escapeRegExpGroupsLegacy","keywords","reg","result","filter","showQuickPick","callback","includePattern","excludePattern","limitationForSearch","findFiles","files","totalFiles","times","openTextDocument","file_iterated","message","Math","floor","progress","manullyCancel","resultNum","StatusBarAlignment","Left","defaultIcon","command","parseFloat","process","version","grpPattern"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = require(\"vscode\");","/**\n * vscode plugin for highlighting TODOs and FIXMEs within your code\n *\n * NOTE: each decoration type has a unique key, the highlight and clear highight functionality are based on it\n */\n\nvar vscode = require('vscode');\nvar util = require('./util');\nvar window = vscode.window;\nvar workspace = vscode.workspace;\n\nfunction activate(context) {\n\n    var timeout = null;\n    var activeEditor = window.activeTextEditor;\n    var isCaseSensitive, assembledData, decorationTypes, pattern, styleForRegExp, keywordsPattern;\n    var workspaceState = context.workspaceState;\n\n    var settings = workspace.getConfiguration('todohighlight');\n\n    init(settings);\n\n    context.subscriptions.push(vscode.commands.registerCommand('todohighlight.toggleHighlight', function () {\n        settings.update('isEnable', !settings.get('isEnable'), true).then(function () {\n            triggerUpdateDecorations();\n        });\n    }))\n\n    context.subscriptions.push(vscode.commands.registerCommand('todohighlight.listAnnotations', function () {\n        if (keywordsPattern.trim()) {\n            util.searchAnnotations(workspaceState, pattern, util.annotationsFound);\n        } else {\n            if (!assembledData) return;\n            var availableAnnotationTypes = Object.keys(assembledData);\n            availableAnnotationTypes.unshift('ALL');\n            util.chooseAnnotationType(availableAnnotationTypes).then(function (annotationType) {\n                if (!annotationType) return;\n                var searchPattern = pattern;\n                if (annotationType != 'ALL') {\n                    annotationType = util.escapeRegExp(annotationType);\n                    searchPattern = new RegExp(annotationType, isCaseSensitive ? 'g' : 'gi');\n                }\n                util.searchAnnotations(workspaceState, searchPattern, util.annotationsFound);\n            });\n        }\n    }));\n\n    context.subscriptions.push(vscode.commands.registerCommand('todohighlight.showOutputChannel', function () {\n        var annotationList = workspaceState.get('annotationList', []);\n        util.showOutputChannel(annotationList);\n    }));\n\n    if (activeEditor) {\n        triggerUpdateDecorations();\n    }\n\n    window.onDidChangeActiveTextEditor(function (editor) {\n        activeEditor = editor;\n        if (editor) {\n            triggerUpdateDecorations();\n        }\n    }, null, context.subscriptions);\n\n    workspace.onDidChangeTextDocument(function (event) {\n        if (activeEditor && event.document === activeEditor.document) {\n            triggerUpdateDecorations();\n        }\n    }, null, context.subscriptions);\n\n    workspace.onDidChangeConfiguration(function () {\n        settings = workspace.getConfiguration('todohighlight');\n\n        //NOTE: if disabled, do not re-initialize the data or we will not be able to clear the style immediatly via 'toggle highlight' command\n        if (!settings.get('isEnable')) return;\n\n        init(settings);\n        triggerUpdateDecorations();\n    }, null, context.subscriptions);\n\n    function updateDecorations() {\n\n        if (!activeEditor || !activeEditor.document) {\n            return;\n        }\n\n        var text = activeEditor.document.getText();\n        var matches = {}, match;\n        while (match = pattern.exec(text)) {\n            var startPos = activeEditor.document.positionAt(match.index);\n            var endPos = activeEditor.document.positionAt(match.index + match[0].length);\n\n            var decoration = {\n                range: new vscode.Range(startPos, endPos)\n            };\n\n            var matchedValue = match[0];\n            let patternIndex = match.slice(1).indexOf(matchedValue);\n            matchedValue = Object.keys(decorationTypes)[patternIndex] || matchedValue;\n\n            if (!isCaseSensitive) {\n                matchedValue = matchedValue.toUpperCase();\n            }\n\n            if (matches[matchedValue]) {\n                matches[matchedValue].push(decoration);\n            } else {\n                matches[matchedValue] = [decoration];\n            }\n\n            if (keywordsPattern.trim() && !decorationTypes[matchedValue]) {\n                decorationTypes[matchedValue] = window.createTextEditorDecorationType(styleForRegExp);\n            }\n        }\n\n        Object.keys(decorationTypes).forEach(v => {\n            var rangeOption = settings.get('isEnable') && matches[v] ? matches[v] : [];\n            var decorationType = decorationTypes[v];\n            activeEditor.setDecorations(decorationType, rangeOption);\n        })\n    }\n\n    function init(settings) {\n        var customDefaultStyle = settings.get('defaultStyle');\n        keywordsPattern = settings.get('keywordsPattern');\n        isCaseSensitive = settings.get('isCaseSensitive', true);\n\n        if (!window.statusBarItem) {\n            window.statusBarItem = util.createStatusBarItem();\n        }\n        if (!window.outputChannel) {\n            window.outputChannel = window.createOutputChannel('TodoHighlight');\n        }\n\n        decorationTypes = {};\n\n        if (keywordsPattern.trim()) {\n            styleForRegExp = Object.assign({}, util.DEFAULT_STYLE, customDefaultStyle, {\n                overviewRulerLane: vscode.OverviewRulerLane.Right\n            });\n\n            pattern = keywordsPattern;\n        } else {\n            assembledData = util.getAssembledData(settings.get('keywords'), customDefaultStyle, isCaseSensitive);\n            Object.keys(assembledData).forEach((v) => {\n                if (!isCaseSensitive) {\n                    v = v.toUpperCase()\n                }\n\n                var mergedStyle = Object.assign({}, {\n                    overviewRulerLane: vscode.OverviewRulerLane.Right\n                }, assembledData[v]);\n\n                if (!mergedStyle.overviewRulerColor) {\n                    // use backgroundColor as the default overviewRulerColor if not specified by the user setting\n                    mergedStyle.overviewRulerColor = mergedStyle.backgroundColor;\n                }\n\n                decorationTypes[v] = window.createTextEditorDecorationType(mergedStyle);\n            });\n\n            // Give each keyword a group in the pattern\n            pattern = Object.keys(assembledData).map((v) => {\n                if (!assembledData[v].regex) {\n                    return `(${util.escapeRegExp(v)})`;\n                }\n\n                let p = assembledData[v].regex.pattern || v;\n                // Ignore unescaped parantheses to avoid messing with our groups\n                return `(${util.escapeRegExpGroups(p)})`\n            }).join('|');\n        }\n\n        pattern = new RegExp(pattern, 'gi');\n        if (isCaseSensitive) {\n            pattern = new RegExp(pattern, 'g');\n        }\n\n    }\n\n    function triggerUpdateDecorations() {\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(updateDecorations, 0);\n    }\n}\n\nexports.activate = activate;\n","var vscode = require('vscode');\nvar os = require(\"os\");\nvar window = vscode.window;\nvar workspace = vscode.workspace;\n\nvar defaultIcon = '$(checklist)';\nvar zapIcon = '$(zap)';\nvar defaultMsg = '0';\n\nvar DEFAULT_KEYWORDS = {\n    \"TODO:\": {\n        text: \"TODO:\",\n        color: '#fff',\n        backgroundColor: '#ffbd2a',\n        overviewRulerColor: 'rgba(255,189,42,0.8)'\n    },\n    \"FIXME:\": {\n        text: \"FIXME:\",\n        color: '#fff',\n        backgroundColor: '#f06292',\n        overviewRulerColor: 'rgba(240,98,146,0.8)'\n    }\n};\n\nvar DEFAULT_STYLE = {\n    color: \"#2196f3\",\n    backgroundColor: \"#ffeb3b\",\n};\n\nfunction getAssembledData(keywords, customDefaultStyle, isCaseSensitive) {\n    var result = {}, regex = [], reg;\n    keywords.forEach((v) => {\n        v = typeof v == 'string' ? { text: v } : v;\n        var text = v.text;\n        if (!text) return;//NOTE: in case of the text is empty\n\n        if (!isCaseSensitive) {\n            text = text.toUpperCase();\n        }\n\n        if (text == 'TODO:' || text == 'FIXME:') {\n            v = Object.assign({}, DEFAULT_KEYWORDS[text], v);\n        }\n        result[text] = Object.assign({}, DEFAULT_STYLE, customDefaultStyle, v);\n\n        if (v.regex) {\n            regex.push(regex.pattern||text);\n        }\n    })\n\n    if (regex) {\n        reg = regex.join('|');\n    }\n\n    // Don't override existing regex keywords with matching defaults\n    Object.keys(DEFAULT_KEYWORDS).filter(v => {\n        if (reg) {\n            if (v.match(new RegExp(reg))) {\n                return false;\n            }\n        }\n\n        return true;\n    }).forEach(v => {\n        if (!result[v]) {\n            result[v] = Object.assign({}, DEFAULT_STYLE, customDefaultStyle, DEFAULT_KEYWORDS[v]);\n        }\n    });\n\n    return result;\n}\n\nfunction chooseAnnotationType(availableAnnotationTypes) {\n    return window.showQuickPick(availableAnnotationTypes, {});\n}\n\n//get the include/exclude config\nfunction getPathes(config) {\n    return Array.isArray(config) ?\n        '{' + config.join(',') + '}'\n        : (typeof config == 'string' ? config : '');\n}\n\nfunction searchAnnotations(workspaceState, pattern, callback) {\n\n    var settings = workspace.getConfiguration('todohighlight');\n    var includePattern = getPathes(settings.get('include')) || '{**/*}';\n    var excludePattern = getPathes(settings.get('exclude'));\n    var limitationForSearch = settings.get('maxFilesForSearch', 5120);\n\n    var statusMsg = ` Searching...`;\n\n    window.processing = true;\n\n    setStatusMsg(zapIcon, statusMsg);\n\n    workspace.findFiles(includePattern, excludePattern, limitationForSearch).then(function (files) {\n\n        if (!files || files.length === 0) {\n            callback({ message: 'No files found' });\n            return;\n        }\n\n        var totalFiles = files.length,\n            progress = 0,\n            times = 0,\n            annotations = {},\n            annotationList = [];\n\n        function file_iterated() {\n            times++;\n            progress = Math.floor(times / totalFiles * 100);\n\n            setStatusMsg(zapIcon, progress + '% ' + statusMsg);\n\n            if (times === totalFiles || window.manullyCancel) {\n                window.processing = true;\n                workspaceState.update('annotationList', annotationList);\n                callback(null, annotations, annotationList);\n            }\n        }\n\n        for (var i = 0; i < totalFiles; i++) {\n\n            workspace.openTextDocument(files[i]).then(function (file) {\n                searchAnnotationInFile(file, annotations, annotationList, pattern);\n                file_iterated();\n            }, function (err) {\n                errorHandler(err);\n                file_iterated();\n            });\n\n        }\n        \n    }, function (err) {\n        errorHandler(err);\n    });\n}\n\nfunction searchAnnotationInFile(file, annotations, annotationList, regexp) {\n    var fileInUri = file.uri.toString();\n    var pathWithoutFile = fileInUri.substring(7, fileInUri.length);\n\n    for (var line = 0; line < file.lineCount; line++) {\n        var lineText = file.lineAt(line).text;\n        var match = lineText.match(regexp);\n        if (match !== null) {\n            if (!annotations.hasOwnProperty(pathWithoutFile)) {\n                annotations[pathWithoutFile] = [];\n            }\n            var content = getContent(lineText, match);\n            if (content.length > 500) {\n                content = content.substring(0, 500).trim() + '...';\n            }\n            var locationInfo = getLocationInfo(fileInUri, pathWithoutFile, lineText, line, match);\n\n            var annotation = {\n                uri: locationInfo.uri,\n                label: content,\n                detail: locationInfo.relativePath,\n                lineNum: line,\n                fileName: locationInfo.absPath,\n                startCol: locationInfo.startCol,\n                endCol: locationInfo.endCol\n            };\n            annotationList.push(annotation);\n            annotations[pathWithoutFile].push(annotation);\n        }\n    }\n}\n\nfunction annotationsFound(err, annotations, annotationList) {\n    if (err) {\n        console.log('todohighlight err:', err);\n        setStatusMsg(defaultIcon, defaultMsg);\n        return;\n    }\n\n    var resultNum = annotationList.length;\n    var tooltip = resultNum + ' result(s) found';\n    setStatusMsg(defaultIcon, resultNum, tooltip);\n    showOutputChannel(annotationList);\n}\n\nfunction showOutputChannel(data) {\n    if (!window.outputChannel) return;\n    window.outputChannel.clear();\n\n    if (data.length === 0) {\n        window.showInformationMessage('No results');\n        return;\n    }\n\n    var settings = workspace.getConfiguration('todohighlight');\n    var toggleURI = settings.get('toggleURI', false);\n    var platform = os.platform();\n\n    data.forEach(function (v, i) {\n        // due to an issue of vscode(https://github.com/Microsoft/vscode/issues/586), in order to make file path clickable within the output channel,the file path differs from platform\n        var patternA = '#' + (i + 1) + '\\t' + v.uri + '#' + (v.lineNum + 1);\n        var patternB = '#' + (i + 1) + '\\t' + v.uri + ':' + (v.lineNum + 1) + ':' + (v.startCol + 1);\n        var patterns = [patternA, patternB];\n\n        //for windows\n        var patternType = 0;\n        if (platform == \"linux\" || platform == \"darwin\") {\n            // for linux & mac\n            patternType = 1;\n        }\n        if (toggleURI) {\n            //toggle the pattern\n            patternType = +!patternType;\n        }\n        window.outputChannel.appendLine(patterns[patternType]);\n        window.outputChannel.appendLine('\\t' + v.label + '\\n');\n    });\n    window.outputChannel.show();\n}\n\nfunction getContent(lineText, match) {\n    return lineText.substring(lineText.indexOf(match[0]), lineText.length);\n};\n\nfunction getLocationInfo(fileInUri, pathWithoutFile, lineText, line, match) {\n    var rootPath = workspace.rootPath + '/';\n    var outputFile = pathWithoutFile.replace(rootPath, '');\n    var startCol = lineText.indexOf(match[0]);\n    var endCol = lineText.length;\n    var location = outputFile + ' ' + (line + 1) + ':' + (startCol + 1);\n\n    return {\n        uri: fileInUri,\n        absPath: pathWithoutFile,\n        relativePath: location,\n        startCol: startCol,\n        endCol: endCol\n    };\n};\n\nfunction createStatusBarItem() {\n    var statusBarItem = window.createStatusBarItem(vscode.StatusBarAlignment.Left);\n    statusBarItem.text = defaultIcon + defaultMsg;\n    statusBarItem.tooltip = 'List annotations';\n    statusBarItem.command = 'todohighlight.showOutputChannel';\n    return statusBarItem;\n};\n\nfunction errorHandler(err) {\n    window.processing = true;\n    setStatusMsg(defaultIcon, defaultMsg);\n    console.log('todohighlight err:', err);\n}\n\nfunction setStatusMsg(icon, msg, tooltip) {\n    if (window.statusBarItem) {\n        window.statusBarItem.text = `${icon} ${msg}` || '';\n        if (tooltip) {\n            window.statusBarItem.tooltip = tooltip;\n        }\n        window.statusBarItem.show();\n    }\n}\n\nfunction escapeRegExp(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nfunction escapeRegExpGroups(s) {\n    // Lookbehind assertions (\"(?<!abc) & (?<=abc)\") supported from ECMAScript 2018 and onwards. Native in node.js 9 and up.\n    if (parseFloat(process.version.replace('v', '')) > 9.0) {\n        let grpPattern = /(?<!\\\\)(\\()([^?]\\w*(?:\\\\+\\w)*)(\\))?/g;\n        // Make group non-capturing\n        return s.replace(grpPattern, '$1?:$2$3');\n    } else {\n        return escapeRegExpGroupsLegacy(s);\n    }\n}\n\nfunction escapeRegExpGroupsLegacy(s) {\n    return s.replace(/\\(\\?<[=|!][^)]*\\)/g, '') // Remove any unsupported lookbehinds\n        .replace(/((?:[^\\\\]{1}|^)(?:(?:[\\\\]{2})+)?)(\\((?!\\?[:|=|!]))([^)]*)(\\))/g, '$1$2?:$3$4'); // Make all groups non-capturing\n}\n\nmodule.exports = {\n    DEFAULT_STYLE,\n    getAssembledData,\n    chooseAnnotationType,\n    searchAnnotations,\n    annotationsFound,\n    createStatusBarItem,\n    setStatusMsg,\n    showOutputChannel,\n    escapeRegExp,\n    escapeRegExpGroups,\n    escapeRegExpGroupsLegacy\n};\n","module.exports = require(\"os\");"],"sourceRoot":""}